## Subdomain Discovery

آسیب‌پذیری Subdomain Discovery (شناسایی زیردامنه‌ها) یکی از مراحل مهم و پایه‌ای در تست نفوذ وب است که به شما کمک می‌کند تا تمامی زیردامنه‌های مرتبط با دامنه هدف را شناسایی کنید. این مرحله اساس جمع‌آوری اطلاعات (Reconnaissance) است و کشف زیردامنه‌های بیشتر، دامنه حملات شما را گسترش می‌دهد.

چگونه زیردامنه‌ها را در تست نفوذ وب پیدا کنیم؟
1. استفاده از ابزارهای خودکار و آنلاین
subfinder: یکی از محبوب‌ترین ابزارهای خط فرمان برای کشف زیردامنه‌ها با استفاده از منابع متنوع (DNS، Certificate Transparency، APIهای عمومی و غیره).

```bash
subfinder -d example.com -silent > subdomains.txt
```

Amass: ابزار قدرتمند و جامع برای جمع‌آوری زیردامنه‌ها و اطلاعات DNS.

```bash
amass enum -d example.com -o amass_subdomains.txt
```

DNSDumpster.com: ابزار آنلاین برای مشاهده رکوردهای DNS و زیردامنه‌ها.

crt.sh: جستجو در Certificate Transparency برای کشف زیردامنه‌های ثبت شده.

2. استفاده از اسکنرهای DNS و فازی کردن (Brute Force)
ابزارهایی مانند dnsenum, dnsrecon, knockpy و subbrute می‌توانند با استفاده از لیست‌های لغت (wordlists) زیردامنه‌های احتمالی را حدس بزنند.

مثال با dnsrecon:

```bash
dnsrecon -d example.com -a -b wordlist.txt
```

3. جستجوی گوگل و گوگل هکینگ
استفاده از کوئری‌هایی مانند:

```bash
site:example.com -www
```

این روش به شما کمک می‌کند زیردامنه‌های عمومی و صفحات مرتبط را پیدا کنید.

4. استفاده از ابزارهای جامع Recon
theHarvester: جمع‌آوری ایمیل، زیردامنه، اطلاعات DNS و غیره.

Recon-ng: فریم‌ورکی برای جمع‌آوری اطلاعات و شناسایی زیردامنه‌ها.

5. بررسی رکوردهای DNS و Whois
با استفاده از دستوراتی مانند whois, dig, nslookup می‌توانید اطلاعات دامنه و رکوردهای DNS را استخراج کنید و زیردامنه‌های مرتبط را بیابید.

نکات مهم در شناسایی زیردامنه‌ها
زیردامنه‌های کشف شده می‌توانند شامل پنل‌های مدیریت، APIها، سرویس‌های ابری و غیره باشند که ممکن است آسیب‌پذیری داشته باشند.

همیشه زیردامنه‌ها را با ابزارهایی مانند httpx یا httprobe بررسی کنید که کدام زیردامنه‌ها زنده و پاسخگو هستند.

پس از شناسایی زیردامنه‌های زنده، روی آن‌ها اسکن آسیب‌پذیری انجام دهید.

منابع فارسی و آموزش‌های مرتبط
آموزش پیدا کردن زیردامنه‌های یک سایت در سکان آکادمی

سلسله آموزش تست نفوذ وب - جمع آوری اطلاعات و زیردامنه‌ها

آموزش تست نفوذ وب (ویدیویی) در لرن فایلز

مقاله جامع تست نفوذ و جمع‌آوری اطلاعات در سایبرنو

خلاصه
Subdomain Discovery اولین و مهم‌ترین مرحله در تست نفوذ وب است.

با استفاده از ابزارهای خودکار (subfinder، Amass، dnsenum و ...) زیردامنه‌ها را کشف کنید.

با ابزارهایی مانند httpx زیردامنه‌های زنده را شناسایی کنید.

از منابع آنلاین مثل DNSDumpster و crt.sh برای تکمیل داده‌ها استفاده کنید.

پس از شناسایی زیردامنه‌ها، تست‌های امنیتی را روی آن‌ها انجام دهید.
