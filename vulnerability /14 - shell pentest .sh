
#!/bin/bash

# چک کردن ورودی دامنه
if [ -z "$1" ]; then
  echo "Usage: $0 target.com"
  exit 1
fi

target=$1

echo "[*] Discovering subdomains for $target ..."
subfinder -d $target | sort -u > subdomains.txt

echo "[*] Checking live subdomains ..."
cat subdomains.txt | httpx -silent -o live_subdomains.txt

echo "[*] Extracting URLs from Wayback Machine ..."
cat live_subdomains.txt | waybackurls | sort -u > wayback_urls.txt

echo "[*] Running nuclei scan ..."
cat wayback_urls.txt | nuclei -silent -o nuclei_results.txt

echo "[*] Scan completed. Results saved in nuclei_results.txt"
